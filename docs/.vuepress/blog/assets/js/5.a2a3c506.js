(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{415:function(s,t,a){s.exports=a.p+"assets/img/springmvc原理.a7431ed6.png"},416:function(s,t,a){s.exports=a.p+"assets/img/feign原理.172cdbc7.png"},417:function(s,t,a){s.exports=a.p+"assets/img/hystrix原理.0fc037c5.png"},418:function(s,t,a){s.exports=a.p+"assets/img/mybatis缓存机制.b1ff8155.png"},419:function(s,t,a){s.exports=a.p+"assets/img/dubbo架构1.939e9228.jpg"},420:function(s,t,a){s.exports=a.p+"assets/img/dubbo架构2.65e2c819.jpg"},421:function(s,t,a){s.exports=a.p+"assets/img/dubbo架构3.aa873d72.jpg"},422:function(s,t,a){s.exports=a.p+"assets/img/dubbo架构4.4304905e.jpg"},423:function(s,t,a){s.exports=a.p+"assets/img/dubbo架构5.712bddbe.jpg"},424:function(s,t,a){s.exports=a.p+"assets/img/redis线程模型.38b87d68.png"},425:function(s,t,a){s.exports=a.p+"assets/img/redis哨兵模式.f3da9ab0.png"},426:function(s,t,a){s.exports=a.p+"assets/img/基于客户端分配.10d8fca3.jpg"},427:function(s,t,a){s.exports=a.p+"assets/img/RedisCluster模式.b787ea77.png"},428:function(s,t,a){s.exports=a.p+"assets/img/kafka架构模型.c2f93438.png"},429:function(s,t,a){s.exports=a.p+"assets/img/kafka消费结果.9bc156be.png"},430:function(s,t,a){s.exports=a.p+"assets/img/zookeeper模型.0eb6ac5c.png"},431:function(s,t){s.exports="data:image/jpeg;base64,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AAIBAwECCgcGBQMDBQAAAAECAwAEEZMFEhAhMDFRUlOSstEGEyBBVLHSFCJAYWKkMkNQcXIjM8EVNHNCgZGUov/aAAgBAQAJPwATGR9/JEzgcTEULjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70LjXehca70swkhtpZFJmkIBVaN3LFb28MozvxSEuWGAM4K5FbOvDcPLIgiNy6DEYDEhmI61Wd4ALS3uCDcNzTuUA//NWV8UjaZBIsrnLwjJHPVjMpkvUgkR7p8oGQvkgHIIoXGu9C413oXGu9C413oXGu9C413oXGu9C413oXGu9C413oXGu9C413oXGu9C413oXGu9C413oXGu9C413oXGu9C413ozq5nVCfXPzFSa6X8R/oaB45FKsp5iCMHNQIxkhET9BQEkKR7+erRPVrIXHWDEYJznOTzGoEmMEKxB26FOQCBVqnrZAQ7YznIwfyyRzmrRAolWUc+QyjAP4X4tfA1dL+I/134tfA1dL+I/0V9yKGNpHbjOFUZJwKbejljV1PGMhxkcR/D/Fr4GrpfxH+i8cl0BbRL1mmISv5UKR9xQPw/wAWvgaul/Ef6JIqRopLOxAUAc5JNIRsiwYm13wR9on7X/FfxHxa+Bq6X8R/oW1IEPUDb791a2Ddz5/nzj7PDV8LhAQwsoAUth9dKFVVACgYAA5gB+I+LXwNXS/iP4+VY4Yxl3biAFWcdrZnmvbznf8A8cVbYv8AaB96esMMPcjrZttEeuEG93j+L+LXwNXS/iP46VEaUkRhiFLkcZC55zUiDZeyIo5plcgI88oyu/8AkoogoygqRzEEcRH434tfA1dL+I8u5R47WVkYc4YKTQd0mntooEupQ5DO2GJKA8VQw7qzSQbu8fWh44jKXK9Q1HaljDaSKUkJjT7U25iVvyqO3/3LhJXLkoRAwXKAcZDdNW6CJZ2hJLAPkR7+/wD48lgTY34T1ZF5qkmeCFxLdhyf5XEA3IzTgwfZin+oBCm/ktvoefNRWyD/AKkbOJ3cgDHO0hqG2A+x/aGV5CC+JDGRD0551qKExi4eALvkS5SL1u/0BDUEBm9fDGFDEqnr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"},432:function(s,t,a){s.exports=a.p+"assets/img/集群功能任务介绍.f028b2d0.svg"},433:function(s,t,a){s.exports=a.p+"assets/img/算子，槽，并行度概念1.dad70837.svg"},434:function(s,t,a){s.exports=a.p+"assets/img/算子，槽，并行度概念2.4f06a541.svg"},435:function(s,t,a){s.exports=a.p+"assets/img/flink核心数据功能.508d0b61.jpg"},502:function(s,t,a){"use strict";a.r(t);var n=a(25),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"spring"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring"}},[s._v("#")]),s._v(" Spring")]),s._v(" "),n("h3",{attrs:{id:"spring主要包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring主要包"}},[s._v("#")]),s._v(" Spring主要包")]),s._v(" "),n("ul",[n("li",[s._v("core：核心工具包，ioc的主要实现；")]),s._v(" "),n("li",[s._v("beans：关于类的配置以及初始化等；")]),s._v(" "),n("li",[s._v("aop：面向切面编程的包；")]),s._v(" "),n("li",[s._v("web：web开发时所用到的包；")]),s._v(" "),n("li",[s._v("mvc：mvc开发时所用到的包；")]),s._v(" "),n("li",[s._v("test：进行单元测试所用的包；")]),s._v(" "),n("li",[s._v("orm：整合orm的实现。")])]),s._v(" "),n("h3",{attrs:{id:"spring的优点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring的优点"}},[s._v("#")]),s._v(" Spring的优点")]),s._v(" "),n("ul",[n("li",[s._v("通过DI和IOC降低类之间的耦合度；")]),s._v(" "),n("li",[s._v("将业务调用流程划分为更细的层级（MVC）；")]),s._v(" "),n("li",[s._v("可以将对象的生命周期给容器进行托管（Singleton和Prototype）；")]),s._v(" "),n("li",[s._v("与其他常见业务框架进行无缝整合；")]),s._v(" "),n("li",[s._v("提供了常见的工具类。")])]),s._v(" "),n("h3",{attrs:{id:"di和ioc机制的理解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#di和ioc机制的理解"}},[s._v("#")]),s._v(" DI和IOC机制的理解")]),s._v(" "),n("p",[s._v("依赖注入（Dependecy Injection）和控制反转（Inversion of Control）是同一个概念。")]),s._v(" "),n("p",[s._v("当一个类需要另外一个类进行协助时：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("在传统的编程中：调用类直接创建被调用类的实例；")])]),s._v(" "),n("li",[n("p",[s._v("在IOC中：实例的创建时不再由调用者进行创建，而是交给spring进行创建，然后注入调用者。")])])]),s._v(" "),n("p",[s._v("优点：")]),s._v(" "),n("ul",[n("li",[s._v("去除了调用类与被调用类的耦合关系；")]),s._v(" "),n("li",[s._v("当被调用类派生出很多子类时，可以进行快速替换处理。")])]),s._v(" "),n("h3",{attrs:{id:"aop的理解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aop的理解"}},[s._v("#")]),s._v(" AOP的理解")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("通过"),n("strong",[s._v("反射")]),s._v("和"),n("strong",[s._v("代理")]),s._v("的手段可以做到进行业务代码的分层与代码无入侵式的织入；")])]),s._v(" "),n("li",[n("p",[s._v("OOP（面向对象编程）是静态的抽象，而AOP是动态的抽象；")])]),s._v(" "),n("li",[n("p",[s._v("是面向对象编程OOP的增强与补充，把代码拆分成几个层次，在层次中进行"),n("strong",[s._v("额外代码的补充与增强")]),s._v("。")])])]),s._v(" "),n("h3",{attrs:{id:"orm的理解"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#orm的理解"}},[s._v("#")]),s._v(" ORM的理解")]),s._v(" "),n("ul",[n("li",[s._v("通过描述对象和数据库之间的映射关系，将对象自动持久化到关系数据库中；")]),s._v(" "),n("li",[s._v("可以去除写SQL的繁杂过程。")])]),s._v(" "),n("h3",{attrs:{id:"spring如何解决循环依赖的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring如何解决循环依赖的问题"}},[s._v("#")]),s._v(" Spring如何解决循环依赖的问题")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("B")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setB")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("B")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("b "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("B")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("a "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("blockquote",[n("p",[n("strong",[s._v("重点：类的创建的初始步骤是先实例化，再初始化成员变量属性。")])])]),s._v(" "),n("ol",[n("li",[s._v("通过ApplicationContext.getBean()获取A类的实例对象时，由于容器找不到对应类型的对象，因此去创建A类型对象；")]),s._v(" "),n("li",[s._v("实例化A类的目标对象后，把该实例对象放入ApplicationContext中（此时该实例对象被标记为"),n("strong",[s._v("半成品")]),s._v("），然后发现A类中需要注入B类的实例对象，因此spring在ApplicationContext中查找B类；")]),s._v(" "),n("li",[s._v("在ApplicationContext中没有发现B类，因此容器会去实例化B类的实体，实例化B类实体后，发现需要注入A类的实例对象，因此在ApplicationContext中寻找；")]),s._v(" "),n("li",[s._v("此时B类可以在ApplicationContext发现A类的实例对象（那个"),n("strong",[s._v("半成品")]),s._v("对象），B类成功进行实例化和初始化；")]),s._v(" "),n("li",[s._v("后续进行反递归调用，寻找A类中的B类实例对象，进行注入处理。")])]),s._v(" "),n("h3",{attrs:{id:"springmvc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#springmvc"}},[s._v("#")]),s._v(" SpringMVC")]),s._v(" "),n("p",[n("img",{attrs:{src:a(415),alt:"springmvc原理"}})]),s._v(" "),n("p",[s._v("DispatcherServlet部分源码：")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("doDispatch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" processedRequest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HandlerExecutionChain")]),s._v(" mappedHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" multipartRequestParsed "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WebAsyncManager")]),s._v(" asyncManager "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WebAsyncUtils")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAsyncManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ModelAndView")]),s._v(" mv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" dispatchException "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            processedRequest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("checkMultipart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            multipartRequestParsed "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            mappedHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mappedHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("noHandlerFound")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取handler")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HandlerAdapter")]),s._v(" ha "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandlerAdapter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" method "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethod")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" isGet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GET"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("equals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isGet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HEAD"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("equals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" lastModified "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ha"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLastModified")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isDebugEnabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Last-Modified value for ["')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRequestUri")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"] is: "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" lastModified"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServletWebRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("checkNotModified")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("lastModified"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" isGet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//前置处理")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("applyPreHandle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//根据handle处理请求对象，此方法包括了查找Controller或者Servlet的步骤")]),s._v("\n            mv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ha"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("asyncManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isConcurrentHandlingStarted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("applyDefaultViewName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//后置处理")]),s._v("\n            mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("applyPostHandle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" ex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            dispatchException "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            dispatchException "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NestedServletException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Handler dispatch failed"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//处理后续的对象与视图")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("processDispatchResult")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dispatchException"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" ex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("triggerAfterCompletion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("triggerAfterCompletion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                               "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NestedServletException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Handler processing failed"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("finally")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("asyncManager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isConcurrentHandlingStarted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mappedHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("applyAfterConcurrentHandlingStarted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("multipartRequestParsed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cleanupMultipart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedRequest"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("processDispatchResult")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                                   "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HandlerExecutionChain")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ModelAndView")]),s._v(" mv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" exception"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" errorView "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exception "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exception "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ModelAndViewDefiningException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ModelAndViewDefiningException encountered"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" exception"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            mv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ModelAndViewDefiningException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" exception"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getModelAndView")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" handler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mappedHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getHandler")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            mv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("processHandlerException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" exception"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            errorView "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mv "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("mv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wasCleared")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//根据ModelAndView渲染页面")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("errorView"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WebUtils")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearErrorRequestAttributes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isDebugEnabled")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            logger"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Null ModelAndView returned to DispatcherServlet with name \'"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getServletName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("\n                         "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\': assuming HandlerAdapter completed request handling"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WebAsyncUtils")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAsyncManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isConcurrentHandlingStarted")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mappedHandler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        mappedHandler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("triggerAfterCompletion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br")])]),n("p",[s._v("SimpleControllerHandlerAdapter部分源码：")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ModelAndView")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Controller")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleRequest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"spring-cloud组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud组件"}},[s._v("#")]),s._v(" Spring Cloud组件")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("eureka和consul：注册中心；")]),s._v(" "),n("p",[s._v("功能对比与组件选型：")]),s._v(" "),n("ul",[n("li",[s._v("eureka：已经闭源，基于AP，没有对应的配置中心，没有主从节点，一个节点挂了自动切换到其他节点使用，去中心化；")]),s._v(" "),n("li",[s._v("consul：保证一致性，基于CP，需要进行集群搭建，某个节点失效首先需要选择新的leader，半数以上的节点不可用，则服务继续提供正常服务。")])])]),s._v(" "),n("li",[n("p",[s._v("ribbon：负载均衡；")])]),s._v(" "),n("li",[n("p",[s._v("zuul/gateway：网关；")])]),s._v(" "),n("li",[n("p",[s._v("feign：关于interfact的http远程调用；")])])]),s._v(" "),n("p",[n("img",{attrs:{src:a(416),alt:"feign原理"}})]),s._v(" "),n("ul",[n("li",[s._v("hystrix：熔断器。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(417),alt:"hystrix原理"}})]),s._v(" "),n("h3",{attrs:{id:"spring、spring-boot、spring-cloud区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring、spring-boot、spring-cloud区别"}},[s._v("#")]),s._v(" Spring、Spring Boot、Spring Cloud区别")]),s._v(" "),n("ul",[n("li",[s._v("Spring是最基础的实现，基础依赖包都囊括在spring，颗粒度最细；")]),s._v(" "),n("li",[s._v("Spring Boot就是集成好默认的Spring配置，约定大于配置；")]),s._v(" "),n("li",[s._v("Spring Cloud旨在解决微服务架构问题，提供服务注册发现、服务消费、熔断保护、网关和分布式调用链和分布式配置等。")])]),s._v(" "),n("h3",{attrs:{id:"spring事务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring事务"}},[s._v("#")]),s._v(" Spring事务")]),s._v(" "),n("h4",{attrs:{id:"事务的传播属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#事务的传播属性"}},[s._v("#")]),s._v(" 事务的传播属性")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("级别")]),s._v(" "),n("th",[s._v("详解")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("PROPAGATION_REQUIRED")]),s._v(" "),n("td",[s._v("支持当前运行的事务，如果不存在事务则创建一个新的事务，为Spring的默认传播级别")])]),s._v(" "),n("tr",[n("td",[s._v("PROPAGATION_SUPPORTS")]),s._v(" "),n("td",[s._v("支持当前运行的事务，如果不存在事务则以非事务模式运行")])]),s._v(" "),n("tr",[n("td",[s._v("PROPAGATION_MANDATORY")]),s._v(" "),n("td",[s._v("支持当前运行的事务，如果不存在事务则抛出异常")])]),s._v(" "),n("tr",[n("td",[s._v("PROPAGATION_REQUIRES_NEW")]),s._v(" "),n("td",[s._v("创建新事务运行，如果存在事务则挂起当前事务")])]),s._v(" "),n("tr",[n("td",[s._v("PROPAGATION_NOT_SUPPORTED")]),s._v(" "),n("td",[s._v("不持支当前事务，总是以非事务方式执行")])]),s._v(" "),n("tr",[n("td",[s._v("PROPAGATION_NEVER")]),s._v(" "),n("td",[s._v("不支持当前事务，如果当前存在事务则抛出异常")])]),s._v(" "),n("tr",[n("td",[s._v("PROPAGATION_NESTED")]),s._v(" "),n("td",[s._v("以嵌套方式执行事务；外层事务失败会回滚内层事务，内层事务不会回滚外层事务。在A中执行B，A报错B会回滚，但B报错仅B回滚，A不会回滚")])])])]),s._v(" "),n("h4",{attrs:{id:"spring事务不生效的场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring事务不生效的场景"}},[s._v("#")]),s._v(" Spring事务不生效的场景")]),s._v(" "),n("ul",[n("li",[s._v("数据库引擎本身不支持事务")]),s._v(" "),n("li",[s._v("对应的Service没有被Spring管理")]),s._v(" "),n("li",[s._v("@Transactional注解所在方法不是public修饰")]),s._v(" "),n("li",[s._v("自身调用的情况")]),s._v(" "),n("li",[s._v("数据源没有配置事务管理器")]),s._v(" "),n("li",[s._v("@Transactional中传播方式为不支持事务")]),s._v(" "),n("li",[s._v("出现异常但是被方法内部捕获了，又没有向框架抛出异常")]),s._v(" "),n("li",[s._v("@Transactional抛出非RuntimeException或者Error异常，需要使用rollbackFor支持其他异常的回滚")])]),s._v(" "),n("h2",{attrs:{id:"mybatis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mybatis"}},[s._v("#")]),s._v(" MyBatis")]),s._v(" "),n("p",[n("img",{attrs:{src:a(418),alt:"mybatis缓存机制"}})]),s._v(" "),n("ul",[n("li",[s._v("一级缓存：在开启一个数据库会话时，会新建一个SqlSession对象（含Executor），Executor在执行对应的SQL语句时，会去PerpetualCache对象中寻找对应的缓存，该缓存对象随着SqlSession对象死亡而释放；如果SqlSession调用了clearCache()、update()、delete()、insert()任意一个方法，都会"),n("strong",[s._v("清空PerpetualCache的数据")]),s._v("；一级缓存默认为"),n("strong",[s._v("开启")]),s._v("状态；")]),s._v(" "),n("li",[s._v("二级缓存：默认是不开启二级缓存，默认原生二级缓存需要返回的POJO必须是可序列化的，一般通过LRU的算法来回收。")])]),s._v(" "),n("h2",{attrs:{id:"dubbo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dubbo"}},[s._v("#")]),s._v(" Dubbo")]),s._v(" "),n("p",[n("img",{attrs:{src:a(419),alt:"dubbo架构1"}})]),s._v(" "),n("ul",[n("li",[s._v("图中左边淡蓝背景的为服务消费方使用的接口，右边淡绿色背景的为服务提供方使用的接口，位于中轴线上的为双方都用到的接口。")]),s._v(" "),n("li",[s._v("图中从下至上分为十层，各层均为单向依赖，右边的黑色箭头代表层之间的依赖关系，每一层都可以剥离上层被复用，其中，Service 和 Config 层为 API，其它各层均为 SPI。")]),s._v(" "),n("li",[s._v("图中绿色小块的为扩展接口，蓝色小块为实现类，图中只显示用于关联各层的实现类。")]),s._v(" "),n("li",[s._v("图中蓝色虚线为初始化过程，即启动时组装链，红色实线为方法调用过程，即运行时调时链，紫色三角箭头为继承，可以把子类看作父类的同一个节点，线上的文字为调用的方法。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(420),alt:"dubbo架构2"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(421),alt:"dubbo架构3"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(422),alt:"dubbo架构4"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(423),alt:"dubbo架构5"}})]),s._v(" "),n("h2",{attrs:{id:"redis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),n("h3",{attrs:{id:"数据类型-数据结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据类型-数据结构"}},[s._v("#")]),s._v(" 数据类型&数据结构")]),s._v(" "),n("p",[s._v("数据类型：仅支持"),n("strong",[s._v("byte数组")]),s._v("类型。")]),s._v(" "),n("p",[s._v("数据结构：")]),s._v(" "),n("ul",[n("li",[s._v("String：一个key对应一个value的简单映射；")]),s._v(" "),n("li",[s._v("List：一个key对应多个value，value值可以重复；")]),s._v(" "),n("li",[s._v("Hash：一个key对应多个key-value键值对；")]),s._v(" "),n("li",[s._v("Set：一个key对应多个value，value不可以重复，value之间没有顺序关系；")]),s._v(" "),n("li",[s._v("Sorted Set：一个key对应多个value，value不可以重复，有顺序关系，先按照score排序，再按照value排序。")])]),s._v(" "),n("h3",{attrs:{id:"持久化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#持久化"}},[s._v("#")]),s._v(" 持久化")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("RDB：生成数据库的快照，相当于直接dump出数据文件。分为手动触发和自动触发（设定x秒内存在y次数据变更时自动触发）")]),s._v(" "),n("ul",[n("li",[s._v("优点：加载恢复时很快；")]),s._v(" "),n("li",[s._v("缺点：不能做到命令级别或者秒级的。")])])]),s._v(" "),n("li",[n("p",[s._v("AOF：通过记录执行的命令进行记录，所有写命令直接追加到文件中，随着命令不断增加，AOF的文件逐渐变大，可以通过重写机制进行AOF文件的压缩。")])])]),s._v(" "),n("h3",{attrs:{id:"键过期策略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#键过期策略"}},[s._v("#")]),s._v(" 键过期策略")]),s._v(" "),n("ul",[n("li",[s._v("惰性过期：访问一个key时才会判断是否已经过期，过期清除；\n"),n("ul",[n("li",[s._v("优点：使用才进行计算，节省CPU资源；")]),s._v(" "),n("li",[s._v("缺点：占用内存。")])])]),s._v(" "),n("li",[s._v("定期过期：每隔一段时间扫描expires字典中的key；\n"),n("ul",[n("li",[s._v("优点：平衡CPU和内存资源。")])])])]),s._v(" "),n("h3",{attrs:{id:"内存淘汰策略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内存淘汰策略"}},[s._v("#")]),s._v(" 内存淘汰策略")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("volatile-lru：从已设置过期时间的数据集中挑选最近最少使用的数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("volatile-ttl：从已设置过期时间的数据集中挑选将要过期的数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("volatile-random：从已设置过期时间的数据集中任意选择数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("volatile-lfu：从已设置过期时间的数据集挑选使用频率最低的数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("allkeys-lru：从数据集中挑选最近最少使用的数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("allkeys-lfu：从数据集中挑选使用频率最低的数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("allkeys-random：从数据集中任意选择数据淘汰；")])]),s._v(" "),n("li",[n("p",[s._v("no-enviction：禁止驱逐数据，这也是"),n("strong",[s._v("默认策略")]),s._v("。意思是当内存不足以容纳新入数据时，新写入操作就会报错，请求可以继续进行，线上任务也不能持续进行，采用no-enviction策略可以保证数据不被丢失。")])])]),s._v(" "),n("h3",{attrs:{id:"内存-线程模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内存-线程模型"}},[s._v("#")]),s._v(" 内存&线程模型")]),s._v(" "),n("blockquote",[n("p",[s._v("Redis基于Reactor模式开发了网络事件处理器，该处理器被称为文件时间处理器，由套接字、IO多路复用程序、文件事件分派器和事件处理器组成。文件事件分派器队列是单线程的，所以才成为单线程模型，但是其他模块仍用了多个线程处理。")])]),s._v(" "),n("ul",[n("li",[s._v("绝大部分请求是存粹的内存操作；")]),s._v(" "),n("li",[s._v("采用了单线程，避免了上下文切换和竞争条件；注意是处理网络请求的时候只有一个线程来处理；")]),s._v(" "),n("li",[s._v("采用了非阻塞IO：IO多路复用。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(424),alt:"redis线程模型"}})]),s._v(" "),n("h3",{attrs:{id:"集群方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集群方案"}},[s._v("#")]),s._v(" 集群方案")]),s._v(" "),n("h4",{attrs:{id:"哨兵模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#哨兵模式"}},[s._v("#")]),s._v(" 哨兵模式")]),s._v(" "),n("p",[n("img",{attrs:{src:a(425),alt:"哨兵模式"}})]),s._v(" "),n("ul",[n("li",[s._v("集群监控：负责监控 redis master 和 slave 进程是否正常工作；")]),s._v(" "),n("li",[s._v("消息通知：如果某个 redis 实例有故障，那么哨兵负责发送消息作为报警通知给管理员；")]),s._v(" "),n("li",[s._v("故障转移：如果 master node 挂掉了，会自动转移到 slave node 上；")]),s._v(" "),n("li",[s._v("配置中心：如果故障转移发生了，通知 client 客户端新的 master 地址。")])]),s._v(" "),n("h4",{attrs:{id:"基于客户端分配模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于客户端分配模式"}},[s._v("#")]),s._v(" 基于客户端分配模式")]),s._v(" "),n("p",[n("img",{attrs:{src:a(426),alt:"基于客户端分配模式"}})]),s._v(" "),n("ul",[n("li",[s._v("配置简单，结构简单，容易搭建，不需要第三方的组件；")]),s._v(" "),n("li",[s._v("本质上通过key映射到某Redis中的某个节点，"),n("strong",[s._v("不适合动态扩容（最重要缺点）")]),s._v("；")]),s._v(" "),n("li",[s._v("客户端决定数据存储到哪个Redis节点或者决定从哪个Redis节点读取数据，通过hash算法实现；")]),s._v(" "),n("li",[s._v("代表为Redis Sharding，是在Redis Cluster出来前普遍使用的集群方法。")])]),s._v(" "),n("h4",{attrs:{id:"redis-cluster"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster"}},[s._v("#")]),s._v(" Redis Cluster")]),s._v(" "),n("p",[n("img",{attrs:{src:a(427),alt:"Redis Cluster模式"}})]),s._v(" "),n("ul",[n("li",[s._v("没有使用一致性hash（会有hash倾斜等问题）的方式，而是采用slot槽的概念；")]),s._v(" "),n("li",[s._v("可以动态扩容，仅仅需要迁移"),n("strong",[s._v("一部分")]),s._v("数据到新的节点；")]),s._v(" "),n("li",[s._v("key寻址时，先进行hash，然后按照一定的方向落到对应的槽点中进行数据处理。")])]),s._v(" "),n("h3",{attrs:{id:"redis-cluster使用案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster使用案例"}},[s._v("#")]),s._v(" Redis-cluster使用案例")]),s._v(" "),n("p",[s._v("在目录中创建6个文件夹，对应为7000-7005，分别对应redis的占用端口，并将redis.conf复制到对应的文件夹中，并且修改为以下内容")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bind 0.0.0.0\nport [7000-7005]\npidfile /var/run/redis_[7000-7005].pid\ncluster-enabled yes\ncluster-config-file nodes-[7000-7005].conf\nappendonly yes\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("分别进入对应的目录，运行redis")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd [7000-7005]\n../redis-server ./redis.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("使用redis-cli创建对应的集群，"),n("code",[s._v("--cluster-replicas 1")]),s._v("意味为每个创建的主机都提供一个从机")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("redis-cli --cluster create 127.0.0.1:7000 127.0.0.1:7001 127.0.0.1:7002 127.0.0.1:7003 127.0.0.1:7004 127.0.0.1:7005 --cluster-replicas 1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用命令查看集群信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("./redis-cli --cluster check 127.0.0.1:7000\nM: b16acaeab7e93f8a3f78fb78554d45036dca9ead 127.0.0.1:7001\n   slots:[5461-10922] (5462 slots) master\n   1 additional replica(s)\nS: a24b06a6dd5d7257ac9a53b498fa054c02cbb304 127.0.0.1:7003\n   slots: (0 slots) slave\n   replicates ae4b63663e1a7659281457b7348dbd8a7b25286d\nM: ae4b63663e1a7659281457b7348dbd8a7b25286d 127.0.0.1:7000\n   slots:[0-5460] (5461 slots) master\n   1 additional replica(s)\nS: 46bc4e483d547db2b2b3545400a7b76029af3422 127.0.0.1:7004\n   slots: (0 slots) slave\n   replicates b16acaeab7e93f8a3f78fb78554d45036dca9ead\nS: 4e2e94ac889c18c408af5c047b73063e1e671386 127.0.0.1:7002\n   slots: (0 slots) slave\n   replicates b843d2a4d24f0c0d758863433f9c918c7527dc0f\nM: b843d2a4d24f0c0d758863433f9c918c7527dc0f 127.0.0.1:7005\n   slots:[10923-16383] (5461 slots) master\n   1 additional replica(s)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("先要创建配置运行的文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd [7006-7007]\n../redis-server ./redis.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("使用"),n("code",[s._v("add-node")]),s._v("命令为集群添加节点（主节点），注意添加完成后，主节点并不会自动地进行rehash处理，需要手动进行rehash")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("redis-cli --cluster add-node 127.0.0.1:7006 127.0.0.1:7000\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("添加从节点"),n("code",[s._v("--cluster-slave")]),s._v("，注意从节点在加入时，会自动寻找集群中备份最少的节点并作为其从节点")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("redis-cli --cluster add-node 127.0.0.1:7007 127.0.0.1:7000 --cluster-slave\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("要删除一个从节点，只需使用"),n("code",[s._v("del-node")]),s._v("redis-cli命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("redis-cli --cluster del-node 127.0.0.1:7000 `<node-id>`\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("重新分簇（Rehash）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("redis-cli --cluster reshard 127.0.0.1:7000\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"redis命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis命令"}},[s._v("#")]),s._v(" redis命令")]),s._v(" "),n("p",[s._v("scan：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("可以控制返回的数量，使用count指定返回数据量，使用match来进行数据匹配SCAN cursor [MATCH pattern] [COUNT count]")])]),s._v(" "),n("li",[n("p",[s._v("SCAN命令用于迭代当前数据库中的数据库键；")])]),s._v(" "),n("li",[n("p",[s._v("SSCAN 命令用于迭代集合键中的元素；")])]),s._v(" "),n("li",[n("p",[s._v("HSCAN命令用于迭代哈希键中的键值对；")])]),s._v(" "),n("li",[n("p",[s._v("ZSCAN命令用于迭代有序集合中的元素（包括元素成员和元素分值）；")])])]),s._v(" "),n("p",[s._v("keys和scan的区别：")]),s._v(" "),n("ul",[n("li",[s._v("keys处理拥有大量数据的场景时，由于redis是单线程的，可能阻塞服务器长达数秒；")]),s._v(" "),n("li",[s._v("scan是基于增量式迭代的，默认返回有限条数据，在scan返回数据的过程中，键值可能会被修改；")])]),s._v(" "),n("h2",{attrs:{id:"kafka"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#kafka"}},[s._v("#")]),s._v(" Kafka")]),s._v(" "),n("h3",{attrs:{id:"架构模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#架构模型"}},[s._v("#")]),s._v(" 架构模型")]),s._v(" "),n("p",[n("img",{attrs:{src:a(428),alt:"kafka架构模型"}})]),s._v(" "),n("p",[s._v("正常情况下，kafka里的数据都不能只有一份。假设我们保存了N个副本，即topic每个partition都有N个副本（Replica）。并且"),n("strong",[s._v("副本的个数一定小于broker个数")]),s._v("（因为每份数据的副本必须保存在不同的broker，否则没有意义，因为如果一份数据的副本保存在同一个broker，那么这个broker挂了，则数据依然丢）。所以对于每个partition而言，每个broker上最多"),n("strong",[s._v("只有一个")]),s._v("副本，因此我们常常使用broker-id表示副本。kafka还有个机制，就是会默认将副本均匀分布到所有的broker上。当replication-factor为N时，Partition会有N个副本，其中N为leader和follower的"),n("strong",[s._v("总和")]),s._v("。")]),s._v(" "),n("p",[s._v("分区的副本是通过follower副本向leader副本发送pull命令进行请求同步的；")]),s._v(" "),n("p",[s._v("分区的同步可以分为"),n("strong",[s._v("同步复制")]),s._v("、"),n("strong",[s._v("异步复制")]),s._v("和"),n("strong",[s._v("commit")]),s._v("：")]),s._v(" "),n("ul",[n("li",[s._v("同步复制：所有follower拉完数据后才commit，一致性好，可用性不高；")]),s._v(" "),n("li",[s._v("异步复制：只要leader拿到数据后立即commit，再等follower进行复制，一致性差，可用性高；")]),s._v(" "),n("li",[s._v("ISR机制：不是完全同步异步的方式，leader副本会位置一个ISR（in-sync replicas）列表，当一个消息发送给leader的时候，leader会等待ISR中所有的副本告诉它已经接收了这个消息，如果一个副本失败了，那么它会被移除ISR。")])]),s._v(" "),n("p",[n("strong",[s._v("自动提交")]),s._v("和"),n("strong",[s._v("手动提交")])]),s._v(" "),n("ul",[n("li",[s._v("自动提交："),n("strong",[s._v("enable.auto.commit=true")]),s._v("，不是拉取的时候马上提交；在每次poll数据之前，检查是否到达"),n("strong",[s._v("auto.commit.interval.ms")]),s._v("的时间，如果到达，则提交拉取消息的最大偏移量")]),s._v(" "),n("li",[s._v("手动提交："),n("strong",[s._v("enable.auto.commit=false")]),s._v("，需要通过commitAsync()或者commitSync()进行提交处理")])]),s._v(" "),n("p",[n("strong",[s._v("ack的参数配置")]),s._v("：")]),s._v(" "),n("ul",[n("li",[s._v("0：leader收到producer的消息没有写盘就返回ack，leader故障时会丢失数据")]),s._v(" "),n("li",[s._v("1：leader收到数据落盘返回ack，大概率会发生数据丢失")]),s._v(" "),n("li",[s._v("-1（ALL）：ISR中所有的follower都同步成功后才返回ack，但是如果在返回ack的时候突然挂掉，生产者还会重新发送一条数据，因此会造成数据的重复")])]),s._v(" "),n("h3",{attrs:{id:"详细用例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#详细用例"}},[s._v("#")]),s._v(" 详细用例")]),s._v(" "),n("p",[s._v("在目录中创建3个文件夹，对应为9092-9094，分别对应kafka的占用端口，并将server.properties复制到对应的文件夹中，并且修改为以下内容")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("broker.id=[0-2]\nlisteners=PLAINTEXT://:[9092-9094]\nlog.dirs=/tmp/kafka-logs-[9092-9094]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("启动zookeeper，"),n("code",[s._v("-daemon")]),s._v("命令表示使用后台运行")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bin/zookeeper-server-start.sh -daemon ./config/zookeeper.properties\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("进入对应的[9092-9094]文件夹中，执行以下命令，"),n("code",[s._v("-daemon")]),s._v("命令表示使用后台运行")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("../kafka_2.12-2.4.1/bin/kafka-server-start.sh -daemon server.properties\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("创建主题， "),n("code",[s._v("--partitions")]),s._v("表示创建的分区数量，"),n("code",[s._v("--replication-factor")]),s._v("表示副本因子（对应一个节点上单个分区的数量）")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bin/kafka-topics.sh --bootstrap-server localhost:9092 --create --topic test --partitions 3 --replication-factor 3\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("查看对应的主题列表")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bin/kafka-topics.sh --bootstrap-server localhost:9092 --list\n__consumer_offsets\ntest\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("查看主题详细信息")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bin/kafka-topics.sh --bootstrap-server localhost:9092 --describe --topic test\nTopic: test    PartitionCount: 3    ReplicationFactor: 3    Configs: segment.bytes=1073741824\n    Topic: test    Partition: 0    Leader: 2    Replicas: 2,0,1    Isr: 2,0,1\n    Topic: test    Partition: 1    Leader: 1    Replicas: 1,2,0    Isr: 1,2,0\n    Topic: test    Partition: 2    Leader: 0    Replicas: 0,1,2    Isr: 0,1,2\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("创建2个消费者，"),n("code",[s._v("--group")]),s._v("指定对应的消费者群组，注意需要指定消费群组，若不指定，则终端会默认自己创建一个默认的消费者群组，这样结果会导致生产者发送消息后，所有的消费者都会"),n("strong",[s._v("消费到同一条信息")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --group test\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("创建1个消费者")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test\n>0\n>1\n>2\n>3\n>4\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:a(429),alt:"kafka消费结果"}})]),s._v(" "),n("p",[s._v("在test群组中多加入一个消费者时，消费者也可以继续消费。但是再加入一个后，test群组中的consumer数量为4，比分区数量3还多，因此有一个消费者"),n("strong",[s._v("无法消费")]),s._v("信息。")]),s._v(" "),n("h3",{attrs:{id:"kafka如何保证消息有序性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#kafka如何保证消息有序性"}},[s._v("#")]),s._v(" Kafka如何保证消息有序性")]),s._v(" "),n("ul",[n("li",[s._v("Kafka topic只设置一个partition分区：kafka默认保证同一个partition分区内的消息是有序的，设置全局一个分区这样就保证全局有序，但缺点是只能被consumer group里的一个消费者消费，不适合高并发的情况；")]),s._v(" "),n("li",[s._v("producer将消息发送到指定分区：\n"),n("ul",[n("li",[s._v("指定分区")]),s._v(" "),n("li",[s._v("不指定分区，由指定key，根据key的hash规则确定发送到哪个分区")]),s._v(" "),n("li",[s._v("不指定分区，不指定key，轮询发送")])])])]),s._v(" "),n("h3",{attrs:{id:"一些有用的资料："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一些有用的资料："}},[s._v("#")]),s._v(" 一些有用的资料：")]),s._v(" "),n("ul",[n("li",[s._v("https://juejin.cn/post/7176576097205616700")]),s._v(" "),n("li",[s._v("https://zhuanlan.zhihu.com/p/377209008")])]),s._v(" "),n("h2",{attrs:{id:"zookeeper"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper"}},[s._v("#")]),s._v(" Zookeeper")]),s._v(" "),n("h4",{attrs:{id:"角色分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#角色分类"}},[s._v("#")]),s._v(" 角色分类")]),s._v(" "),n("ul",[n("li",[s._v("Leader：维护各个follower以及心跳，所有写操作通过leader进行写操作并广播给其他服务器，只要超过半数节点写入，写请求就会被提交；")]),s._v(" "),n("li",[s._v("Follower：响应leader的心跳请求，响应客户端的读请求，并将写请求转发给leader处理；")]),s._v(" "),n("li",[s._v("Observer：与follower类似，不参与投票，响应读请求，把写请求转发给leader。")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(430),alt:"zookeeper模型"}})]),s._v(" "),n("h4",{attrs:{id:"数据模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据模型"}},[s._v("#")]),s._v(" 数据模型")]),s._v(" "),n("p",[s._v("类似数据结构中的树模型，类似文件系统中的目录。zookeeper中对应节点名字叫znode，使用方式是"),n("strong",[s._v("路径引用")]),s._v("。znode中包含以下的信息：")]),s._v(" "),n("ul",[n("li",[s._v("data：存储的数据信息；")]),s._v(" "),n("li",[s._v("ACL：访问权限；")]),s._v(" "),n("li",[s._v("stat：元数据，比如事务zxid、版本号、时间戳、大小等；")]),s._v(" "),n("li",[s._v("child：当前节点的子节点引用，类似树的各种孩子。")])]),s._v(" "),n("p",[s._v("可以分为4种形式的目录节点：")]),s._v(" "),n("ul",[n("li",[s._v("persistent：持久节点；")]),s._v(" "),n("li",[s._v("ephemeral：暂时节点；")]),s._v(" "),n("li",[s._v("persistent_sequential：持久化顺序编号目录节点；")]),s._v(" "),n("li",[s._v("ephemeral_sequential：暂时化顺序编号目录节点。")])]),s._v(" "),n("h4",{attrs:{id:"zab协议"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zab协议"}},[s._v("#")]),s._v(" Zab协议")]),s._v(" "),n("p",[s._v("事务编号Zxid：共64位，低32位是单调递增的计数器，针对客户端每一个事务请求，计数器加1；高32位代表leader周期epoch的编号，每个当选的leader会从所有节点本地日志中选出最大的zxid，并读取其epoch值，然后加1，以此作为新的epoch，并将低32位从0开始计数。zxid是保持"),n("strong",[s._v("单调递增")]),s._v("的。")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("恢复模式：机器启动、leader崩溃、leader失去大部分follower支持都会进入该阶段")]),s._v(" "),n("ul",[n("li",[s._v("Leader election（选举阶段）："),n("em",[n("strong",[s._v("选出准leader")])]),s._v("，集群节点处于looing状态，带上自己"),n("strong",[s._v("服务器id和本地最新的zxid")]),s._v("，与其他节点进行通讯投票，当收到请求后，节点会用自身的zxid和其他节点的zxid做比较，如果发现其他节点的zxid比自己大（说明数据比自己新），那么重新发起投票，投票给目前"),n("strong",[s._v("已知最大的zxid")]),s._v("所属节点。当一个节点得到超过半数节点的票数，那么可以当选"),n("strong",[s._v("准leader")]),s._v("；")]),s._v(" "),n("li",[s._v("Discovery（发现阶段）："),n("em",[n("strong",[s._v("接受提议、生成epoch、接受epoch")])]),s._v("，follower和准leader进行通讯，准leader同步各个follower最新接收到的事务提议。在所有follower各自发来的"),n("strong",[s._v("最新epoch值")]),s._v("中选出最大的epoch值加1，并以这个值作为最新的epoch，通知给所有follower；")]),s._v(" "),n("li",[s._v("Synchronization（同步阶段）："),n("em",[n("strong",[s._v("同步follower副本")])]),s._v("，利用上一个阶段获得的最新历史提议，同步到集群中的所有副本。只有大多数节点同步完成，准leader才会成为真诚的leader，"),n("strong",[s._v("follower只会接受zxid比自己的最大zxid还大的提议")]),s._v("，此时leader的状态改为leading，follower的状态改为following。")])])]),s._v(" "),n("li",[n("p",[s._v("广播模式：zookeeper集群对外正式开始提供服务，并且leader可以进行消息广播，如果有新的节点计入，还需要对新节点进行同步。")]),s._v(" "),n("p",[n("img",{attrs:{src:a(431),alt:"zookeeper广播实例图"}})]),s._v(" "),n("ol",[n("li",[s._v("客户端发送写入请求到任意的follower；")]),s._v(" "),n("li",[s._v("server把写入数据请求转发给leader；")]),s._v(" "),n("li",[s._v("leader采用二段提交方式，发送propose广播给follower；")]),s._v(" "),n("li",[s._v("follower接收到propose消息，写入日志成功后，返回ack消息给leader；")]),s._v(" "),n("li",[s._v("leader接收到半数以上ack消息，返回成功给客户端，并且广播commit请求给follower。")])])])]),s._v(" "),n("h2",{attrs:{id:"flink"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flink"}},[s._v("#")]),s._v(" Flink")]),s._v(" "),n("h3",{attrs:{id:"flink原理介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flink原理介绍"}},[s._v("#")]),s._v(" flink原理介绍")]),s._v(" "),n("h4",{attrs:{id:"集群功能任务介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集群功能任务介绍"}},[s._v("#")]),s._v(" 集群功能任务介绍")]),s._v(" "),n("p",[n("img",{attrs:{src:a(432),alt:"flink执行原理图"}})]),s._v(" "),n("ul",[n("li",[s._v("JobManager：\n"),n("ul",[n("li",[s._v("分布式协调调度")]),s._v(" "),n("li",[s._v("提交/终止task")]),s._v(" "),n("li",[s._v("调度checkpoint")]),s._v(" "),n("li",[s._v("失败恢复")])])]),s._v(" "),n("li",[s._v("TaskManager：\n"),n("ul",[n("li",[s._v("对应分配资源的单位：对应每一台机器/虚拟机，是独立的一个JVM")]),s._v(" "),n("li",[s._v("根据不同的slot执行对应的子任务")]),s._v(" "),n("li",[s._v("数据的序列化与反序列化，数据网络交换")])])])]),s._v(" "),n("h4",{attrs:{id:"算子，槽，并行度概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#算子，槽，并行度概念"}},[s._v("#")]),s._v(" 算子，槽，并行度概念")]),s._v(" "),n("p",[n("img",{attrs:{src:a(433),alt:"算子，槽，并行度概念1"}})]),s._v(" "),n("p",[n("img",{attrs:{src:a(434),alt:"算子，槽，并行度概念2"}})]),s._v(" "),n("ul",[n("li",[s._v("算子：进行独立功能计算的功能对象方法")]),s._v(" "),n("li",[s._v("槽（Slot）：内存分配的单位，不会与其他槽进行内存竞争（内存隔离），每一个槽都分配给一个独立的线程执行任务，因此"),n("strong",[s._v("推荐槽与CPU数量呈1：1对应关系")]),s._v("，其他的例如TCP，CPU资源还是共享的关系；上图，表示2个TaskManger节点，每个节点有3个槽，每个槽占据每个TaskManager的内存的三分之一；可以理解为："),n("strong",[s._v("一台特定的机器上启动多少个并行执行的实例")])]),s._v(" "),n("li",[s._v("并行度（Parallelism）：表示实际的子任务同时处理的数量，"),n("strong",[s._v("最大只能设置为槽的数量")])])]),s._v(" "),n("h4",{attrs:{id:"核心数据功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#核心数据功能"}},[s._v("#")]),s._v(" 核心数据功能")]),s._v(" "),n("ul",[n("li",[s._v("Source：输入")]),s._v(" "),n("li",[s._v("Sink：输出")]),s._v(" "),n("li",[s._v("DataStream：输入到系统后成为的流，也是应用各种function的对象")]),s._v(" "),n("li",[s._v("Function：各种对流的操作，例如\n"),n("ul",[n("li",[s._v("FlatMap：数据拆分映射，不过给了一个collector，可以进行数据的丢弃")]),s._v(" "),n("li",[s._v("Map：数据映射，数据是不能丢弃的（如果返回null下游是可以收到null数据的）")]),s._v(" "),n("li",[s._v("Filter：数据过滤器")]),s._v(" "),n("li",[s._v("Reduce：把两个元素聚合为一个")]),s._v(" "),n("li",[s._v("Window：数据归窗")])])])]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Public")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SourceFunction")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SourceContext")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" ctx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cancel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SourceContext")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("collect")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("collectWithTimestamp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" element"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" timestamp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("emitWatermark")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Watermark")]),s._v(" mark"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("markAsTemporarilyIdle")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCheckpointLock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SinkFunction")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IN")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IN")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Context")]),s._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Context")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentProcessingTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("currentWatermark")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("timestamp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MapFunction")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("O")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("O")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FlatMapFunction")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("O")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("flatMap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collector")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("O")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FilterFunction")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WindowFunction")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" OUT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" KEY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("W")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Window")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Serializable")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KEY")]),s._v(" key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("W")]),s._v(" window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Iterable")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("IN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" input"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Collector")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("OUT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" out"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br")])]),n("p",[s._v("其他高级额外功能：")]),s._v(" "),n("ul",[n("li",[s._v("windows：\n"),n("ul",[n("li",[n("strong",[s._v("Tumbling Windows")]),s._v("：滚动窗口，窗口的"),n("strong",[s._v("大小是固定的")]),s._v("，且"),n("strong",[s._v("各自范围不重叠")]),s._v("；")]),s._v(" "),n("li",[n("strong",[s._v("Sliding Windows")]),s._v("：滑动窗口，"),n("strong",[s._v("window size窗口大小")]),s._v("，"),n("em",[n("strong",[s._v("window slide滑动距离")])]),s._v("，如果 slide 小于窗口大小，滑动窗口可以允许窗口重叠。这种情况下，一个元素可能会被分发到多个窗口；")]),s._v(" "),n("li",[s._v("Session Windows：会话窗口，不会相互重叠，且没有固定的开始或结束时间。 会话窗口在一段时间没有收到数据之后会关闭；")]),s._v(" "),n("li",[s._v("Global Windows：全局窗口，所有的key分配到一个窗口，自定义trigger很有用")])])]),s._v(" "),n("li",[s._v("Window Functions：\n"),n("ul",[n("li",[s._v("aggregate：窗口元素聚合")]),s._v(" "),n("li",[s._v("reduce：合并到一个输出数据，是aggregate的特例")]),s._v(" "),n("li",[s._v("processWindow：能获取包含窗口内所有元素的 Iterable， 以及用来获取时间和状态信息的 Context 对象，比其他窗口函数更加灵活")])])]),s._v(" "),n("li",[s._v("Triggers ：决定窗口什么时候被处理")]),s._v(" "),n("li",[s._v("Evictors ：移除窗口内的元素")])]),s._v(" "),n("p",[n("img",{attrs:{src:a(435),alt:"原理图"}})]),s._v(" "),n("h3",{attrs:{id:"flink中的注意点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flink中的注意点"}},[s._v("#")]),s._v(" flink中的注意点")]),s._v(" "),n("ul",[n("li",[s._v("需要以"),n("strong",[s._v("数据流")]),s._v("为切入点，如果需要做"),n("strong",[s._v("复杂业务")]),s._v("处理flink是非常不合适的")]),s._v(" "),n("li",[s._v("由于是"),n("strong",[s._v("CPU密集型")]),s._v("，因此线程控制权交给flink管理")]),s._v(" "),n("li",[s._v("算子处理任务出错时不能向框架抛出错误（例如json反序列化错误），因为算子异常会导致对应进程"),n("strong",[s._v("重启尝试")])]),s._v(" "),n("li",[s._v("流中使用到的数据传输类，都"),n("strong",[s._v("必须实现Serializable")]),s._v("，因为本质上就是要经过Java原生的序列化")]),s._v(" "),n("li",[s._v("算子的声明周期是由manager进行管理的，当我们new算子的时候并不是真正的创建算子。因此不能在构造函数中执行初始化操作，而是在"),n("strong",[s._v("open方法")]),s._v("中")]),s._v(" "),n("li",[s._v("做对应的flink功能，功能内自行启动线程、使用线程池等去维护意义不大（flink已经管理好对应的slot和资源，这些资源都是已经"),n("strong",[s._v("相互隔离")]),s._v("的）")]),s._v(" "),n("li",[s._v("含大量的泛型类以及函数，很多情况下，算子处理函数后需要补充.returns函数以标志返回对应泛型的类型")]),s._v(" "),n("li",[n("strong",[s._v("无法解决业务数据依赖的问题")]),s._v("：对于广播状态的功能，某个算子X中含有A广播流和B普通流，算子X对B的处理依赖A广播流的传入，此时必须要求在处理B流数据前A流先一步到达，这个功能不太好实现")]),s._v(" "),n("li",[s._v("本质上不适合做很重业务逻辑性的操作，因为是CPU密集型的，会造成堵塞")]),s._v(" "),n("li",[s._v("某个subtask提前finish导致savepoint失败")])]),s._v(" "),n("h2",{attrs:{id:"nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),n("p",[s._v("目前Nginx集群没有好的解决方案，下面对应的技术方案可以简单实现：")]),s._v(" "),n("ol",[n("li",[s._v("构建DNS+CDN服务器")]),s._v(" "),n("li",[s._v("在多个公网IP中搭建多台Nginx服务器")]),s._v(" "),n("li",[s._v("通过DNS进行域名的动态切换，通过CDN进行动态流量输入")])]),s._v(" "),n("h2",{attrs:{id:"activiti"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#activiti"}},[s._v("#")]),s._v(" Activiti")]),s._v(" "),n("ul",[n("li",[s._v("ProcessEngineConfiguration：加载activiti.cfg.xml配置文件")]),s._v(" "),n("li",[s._v("ProcessEngine：快速获得各个service接口，生成activiti的工作环境以及25张表")]),s._v(" "),n("li",[s._v("Service接口：\n"),n("ul",[n("li",[s._v("RepositoryService：对流程定义和部署的存储库的访问路径")]),s._v(" "),n("li",[s._v("RuntimeService：实例流程相关")]),s._v(" "),n("li",[s._v("TaskService：与正在执行的任务管理相关")]),s._v(" "),n("li",[s._v("HistroyService：查询历史服务接口")])])])]),s._v(" "),n("h2",{attrs:{id:"elasticsearch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch"}},[s._v("#")]),s._v(" ElasticSearch")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("ElasticSearch")]),s._v(" "),n("th",[s._v("关系数据库")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("Indices索引")]),s._v(" "),n("td",[s._v("Databases数据库")])]),s._v(" "),n("tr",[n("td",[s._v("Types类型")]),s._v(" "),n("td",[s._v("Tables表")])]),s._v(" "),n("tr",[n("td",[s._v("Documents文档")]),s._v(" "),n("td",[s._v("Rows行")])]),s._v(" "),n("tr",[n("td",[s._v("Fields域")]),s._v(" "),n("td",[s._v("Columns列")])])])]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("内容")]),s._v(" "),n("th",[s._v("语法")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("查看所有索引")]),s._v(" "),n("td",[s._v("GET _cat/indices")])]),s._v(" "),n("tr",[n("td",[s._v("查看索引结构")]),s._v(" "),n("td",[s._v("GET /local_es_order/_mapping")])]),s._v(" "),n("tr",[n("td",[s._v("新建索引")]),s._v(" "),n("td",[s._v("PUT /local_my_test"),n("br"),s._v('{"mappings":{"properties":{"gender":{"type":"integer"},"name":{"type":"keyword"},"age":{"type":"integer"}}}}')])]),s._v(" "),n("tr",[n("td",[s._v("获取索引详细信息")]),s._v(" "),n("td",[s._v("GET /local_my_test")])]),s._v(" "),n("tr",[n("td",[s._v("删除索引")]),s._v(" "),n("td",[s._v("DELETE /local_my_test")])]),s._v(" "),n("tr",[n("td",[s._v("插入索引")]),s._v(" "),n("td",[s._v("PUT /local_my_test/_doc/1"),n("br"),s._v('{"gender":1,"name":"test","age":30}')])]),s._v(" "),n("tr",[n("td",[s._v("根据id查找索引内容")]),s._v(" "),n("td",[s._v("GET /local_my_test/_doc/1")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);