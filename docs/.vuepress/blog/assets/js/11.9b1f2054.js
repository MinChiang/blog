(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{412:function(s,a,e){s.exports=e.p+"assets/img/虚拟机搭建1.0dbd66c4.png"},413:function(s,a,e){s.exports=e.p+"assets/img/虚拟机搭建2.207fbbc4.png"},414:function(s,a,e){s.exports=e.p+"assets/img/MySQL安装截图1.daefef6a.png"},501:function(s,a,e){"use strict";e.r(a);var t=e(25),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"虚拟机环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机环境搭建"}},[s._v("#")]),s._v(" 虚拟机环境搭建")]),s._v(" "),t("h3",{attrs:{id:"ubuntu-server系统安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-server系统安装"}},[s._v("#")]),s._v(" Ubuntu Server系统安装")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("安装完成VMware workstation后，在编辑->虚拟网络编辑器->更改设置->NAT设置，查看NAT模式的子网IP、网络掩码、网关IP等信息\n如下图所示\n子网IP：192.168.160.0\n子网掩码：255.255.255.0\n网关IP：192.168.160.2\n"),t("img",{attrs:{src:e(412),alt:"虚拟机搭建1"}})])]),s._v(" "),t("li",[t("p",[s._v("创建虚拟机\n打开VMware，文件->新建虚拟机\n类型配置：自定义（高级）\n硬件兼容性：默认\n安装来源：稍后安装操作系统\n客户机操作系统：Linux，下拉框选择Ubunut 64位\n虚拟机名称：自定义，位置：自定义\n处理器配置：按照宿主机的配置，选择处理器数量2，内核数量2\n内存量：2048MB\n网络类型：使用网络地址转换(NAT)\nI/O控制器类型：LSI Logic\n虚拟磁盘类型：SCSI\n磁盘：创建新虚拟磁盘\n磁盘容量：最大磁盘大小：20G，拆分成多个文件，名字为Ubuntu_Dev.vmdk\n自定义硬件：去除USB控制器、声卡、打印机，在新CD/DVD中选择使用ISO，打开ubuntu-16.04.6-server-amd64.iso\n"),t("img",{attrs:{src:e(413),alt:"虚拟机搭建2"}})])]),s._v(" "),t("li",[t("p",[s._v("打开虚拟机，进入安装流程\n"),t("strong",[s._v("语言选项：English")]),s._v("\n选择：Install Ubuntu Server\n"),t("strong",[s._v("Language：English")]),s._v("\n区域：China\n国家locale设置：United States\n选择键盘布局：No，再选择Chinese\n机器名hostname：ubuntu\n用户名和account：你自己的名字，密码：自己定\n加密文件夹：No\n时区：Asia/Chongqing\n"),t("strong",[s._v("分区方法：Guided - use entire disk and set up LVM，选择磁盘，写入LVM点击Yes，容量默认，确认写入磁盘Yes")]),s._v("\n代理：置空即可\n管理更新：No automatic updates\n安装包：选择Standard System utilities和OpenSSH server\nGRUB boot loader安装：Yes")])]),s._v(" "),t("li",[t("p",[s._v("重启Ubunut后，可以进入登录界面，此时输入用户名和密码进行登录")])]),s._v(" "),t("li",[t("p",[s._v("修改网卡配置")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo vi /etc/network/interfaces\n把iface ens32 inet dhcp改为\n把iface ens32 static\naddress 192.168.42.100\nnetmask 255.255.255.0\ngateway 192.168.42.2\ndns-nameserver 114.114.114.114\ndns-nameserver 8.8.8.8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置root的ssh登录")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo vi /etc/ssh/sshd_config\n把PermitRootLogin prohibit-password改为\nPermitRootLogin yes\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置root的密码")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo su - root\npasswd\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("修改apt源为阿里源")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo cp /etc/apt/sources.list /etc/apt/sources_bak.list\nsudo vi /etc/apt/sources.list\n\n将整个文件修改为下面内容：\ndeb http://mirrors.aliyun.com/ubuntu/ xenial main\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial main\n\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main\n\ndeb http://mirrors.aliyun.com/ubuntu/ xenial universe\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial universe\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universe\n\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security main\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main\ndeb http://mirrors.aliyun.com/ubuntu/ xenial-security universe\ndeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("ul",[t("li",[t("p",[s._v("执行命令")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt-get update\nsudo apt-get upgrade\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("最后重启电脑，即可用ssh进行登录")])])])])]),s._v(" "),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" MySQL")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("选择下载"),t("a",{attrs:{href:"https://dev.mysql.com/downloads/",target:"_blank",rel:"noopener noreferrer"}},[s._v("地址源"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("这里选择APT Repository安装方式\n"),t("img",{attrs:{src:e(414),alt:"MySQL安装截图1"}})])]),s._v(" "),t("li",[t("p",[s._v("安装期间设置root密码为root")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo dpkg -i mysql-apt-config_0.8.22-1_all.deb\nsudo apt-get update\nsudo apt-get install mysql-server\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置监听地址字符集编码等（需要重启mysql）")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("vim /etc/mysql/my.cnf\n\n最下面加入\n[client]\ndefault-character-set = utf8mb4\n\n[mysql]\ndefault-character-set = utf8mb4\n\n[mysqld]\nbind-address            = 0.0.0.0\ncharacter-set-server = utf8mb4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置root远程登陆和密码")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysql -u root -proot\nuse mysql\nupdate user set host = '%' where user = 'root';\nflush privileges;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("启动调整")]),s._v(" "),t("ul",[t("li",[s._v("禁止开机自启 update-rc.d mysql remove")]),s._v(" "),t("li",[s._v("开机自启 update-rc.d mysql defaults")]),s._v(" "),t("li",[s._v("启动 /etc/init.d/mysql start")]),s._v(" "),t("li",[s._v("关闭 /etc/init.d/mysql stop")])])])]),s._v(" "),t("h3",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("安装redis")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("sudo apt-get install redis-server\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("修改监听地址")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("把bind 127.0.0.1\n修改为bind 0.0.0.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"elasetcsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#elasetcsearch"}},[s._v("#")]),s._v(" Elasetcsearch")]),s._v(" "),t("p",[s._v("安装Elaasticsearch")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -\nsudo apt-get install apt-transport-https\necho "deb https://artifacts.elastic.co/packages/7.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-7.x.list\nsudo apt-get update && sudo apt-get install elasticsearch\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"启动命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动命令"}},[s._v("#")]),s._v(" 启动命令")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl start postgresql\nsystemctl start mysql\nsystemctl start nginx\nsystemctl start postgresql\nsystemctl start redis-server.service\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);